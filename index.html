<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iggle â€” Play Epic Games</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Inter', sans-serif; }
  body { display: flex; height: 100vh; overflow: hidden; background: #f6fbff; color: #072a46; }
  #sidebar { width: 300px; background: #fff; border-right: 1px solid #e0e0e0; display: flex; flex-direction: column; overflow-y: auto; }
  #sidebar h2 { font-size: 14px; padding: 10px 16px; color: #1877f2; text-transform: uppercase; letter-spacing: 0.05em; margin-top: 8px; border-top: 1px solid #eee; }
  #gamesList, .sectionList { flex: 1; padding: 12px; display: flex; flex-direction: column; gap: 8px; }
  .class { display: flex; align-items: center; padding: 8px; gap: 8px; border-radius: 6px; cursor: pointer; transition: background 0.2s; }
  .class:hover { background: #f0f4ff; }
  .class.active { background: #e6f0ff; border-left: 4px solid #1877f2; }
  .thumb { width: 36px; height: 36px; background: #1877f2; color: #fff; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-weight: 600; }
  .meta { flex: 1; display: flex; flex-direction: column; }
  .title { font-weight: 600; font-size: 14px; }
  .sub { font-size: 12px; color: #555; }
  .play-btn { padding: 4px 8px; background: #1877f2; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
  #main { flex: 1; display: flex; flex-direction: column; }
  #playerBar { display: flex; align-items: center; justify-content: space-between; padding: 10px 16px; background: #fff; border-bottom: 1px solid #e0e0e0; }
  #playerInfo { display: flex; flex-direction: column; }
  #playerTitle { font-weight: 600; font-size: 16px; }
  #playerSub { font-size: 13px; color: #555; }
  #controls { display: flex; gap: 8px; }
  #controls button { padding: 6px 12px; background: #1877f2; color: #fff; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
  #frameWrap { flex: 1; position: relative; background: #000; display: flex; align-items: center; justify-content: center; }
  #gameFrame { width: 100%; height: 100%; border: none; display: none; }
  #placeholder { position: absolute; display: grid; place-items: center; color: #fff; font-size: 18px; background: rgba(0,0,0,0.5); width: 100%; height: 100%; }
</style>
</head>
<body>

<div id="sidebar">
  <h2>Games</h2>
  <div id="gamesList"></div>

  <h2>ðŸŽ„ Christmas Drop</h2>
  <div class="sectionList" id="christmasList"></div>

  <h2>Weekly Game Drop</h2>
  <div class="sectionList" id="weeklyList"></div>
</div>

<div id="main">
  <div id="playerBar">
    <div id="playerInfo">
      <div id="playerTitle">Select a Game</div>
      <div id="playerSub"></div>
    </div>
    <div id="controls">
      <button id="fullBtn">Fullscreen</button>
      <button id="openNewBtn">Open in New Tab</button>
      <button id="reloadBtn">Reload</button>
    </div>
  </div>
  <div id="frameWrap">
    <iframe id="gameFrame"></iframe>
    <div id="placeholder">Loading...</div>
  </div>
</div>

<script>
const games = [
  {id:'clash-royale', title:'Clash Royale', subtitle:'Official Ripoff!', src:'https://db.quackprep.org/html/clash_royale/index.html'},
  {id:'hollow-knight', title:'Hollow Knight', subtitle:'A platformer', src:'https://db.quackprep.org/html/hollow_knight/index.html'},
  {id:'steal-brainrot', title:'Steal a Brainrot', subtitle:'roblox copied us', src:'https://db.quackprep.org/html/steal_a_brainrot/index.html'},
  {id:'worlds-hardest', title:"The World's Hardest Game", subtitle:'Try not to rage', src:'https://db.quackprep.org/html/theworldshardestgame/index.html'},
  {id:'twerk-race', title:'Twerk Race 3D', subtitle:'i dont know what to say', src:'https://db.quackprep.org/html/twerk_race_3d/index.html'},
  {id:'street-fighter', title:'Street Fighter', subtitle:'rip of street fighter', src:'https://db.quackprep.org/html/street_fighter/index.html'},
  {id:'temple-run', title:'Temple Run 2', subtitle:'Endless runner', src:'https://db.quackprep.org/html/temple_run_2/index.html'},
  {id:'rocket-league', title:'Rocket League (Derby)', subtitle:'Car football', src:'https://db.quackprep.org/html/rocket_soccer_derby/index.html'},
  {id:'doom-1', title:'DOOM 1 (remake)', subtitle:'Classic shooter', src:'https://db.quackprep.org/html/doom_1/index.html'},
  {id:'eagler-craft', title:'Eagler Craft', subtitle:'Minecraft-style sandbox', src:'https://db.quackprep.org/html/minecraft/index.html'},
  {id:'bloons-td', title:'Bloons TD', subtitle:'Pop the waves', src:'https://db.quackprep.org/html/bloons_td/index.html'},
  {id:'snow-rider', title:'Snow Rider 3D', subtitle:'super fun sledge gaem', src:'https://db.quackprep.org/html/snow_rider_3d/index.html'},

  {id:'forest-99', title:'Budget 99 Nights in the Forest', subtitle:'Explore the wild', src:'https://db.quackprep.org/html/99_nights_in_the_forest/index.html'},
  {id:'fnaf', title:'Five Nights at Freddyâ€™s', subtitle:'Survive the night', src:'https://db.quackprep.org/html/fnaf/index.html'},

  {
    id:'gta-simulator',
    title:'GTA Simulator',
    subtitle:'iggle before gta6',
    src:'https://r2.fizzerz.com/game-source/gta-simulator/index.html'
  }
];

const christmasGames = [
  {
    id:'christmas-drop',
    title:'Christmas Drop',
    subtitle:'Seasonal winter game',
    src:'https://app-98524.games.s3.yandex.net/98524/e90pl68o7uv7ra70v9wnuobstic38e2g_brotli/index.html'
  }
];

const weeklyGames = [
  {
    id:'fallout',
    title:'Fallout',
    subtitle:'Bro forced me â€” Game of the Week',
    src:'https://glacierarcade.win/storage/fallout.html',
    featured:true
  },
  {
    id:'tentrix',
    title:'tentrix',
    subtitle:'just blockblast xd',
    src:'https://games.builds.gamepix.com/78U4MT/2wKz6qwHSKfXzm4QgwaH0AVLwuY/index.html?sid=e4515&lang=en&namespace=bullet-army-run'
  }
];

const gamesList = document.getElementById('gamesList');
const christmasList = document.getElementById('christmasList');
const weeklyList = document.getElementById('weeklyList');
const frame = document.getElementById('gameFrame');
const placeholder = document.getElementById('placeholder');
const playerTitle = document.getElementById('playerTitle');
const playerSub = document.getElementById('playerSub');
const fullBtn = document.getElementById('fullBtn');
const openNewBtn = document.getElementById('openNewBtn');
const reloadBtn = document.getElementById('reloadBtn');
const frameWrap = document.getElementById('frameWrap');
let activeId = null;

function makeGameItem(game) {
  const el = document.createElement('div');
  el.className = 'class';
  el.dataset.id = game.id;
  el.innerHTML = `
    <div class="thumb">${game.title.split(' ').map(s=>s[0]).slice(0,2).join('')}</div>
    <div class="meta">
      <div class="title">${game.title}</div>
      <div class="sub">${game.subtitle}</div>
    </div>
    <div><button class="play-btn">Play</button></div>
  `;
  el.querySelector('.play-btn').onclick = e => { e.stopPropagation(); loadGame(game); };
  el.onclick = () => loadGame(game);
  return el;
}

games.forEach(g => gamesList.appendChild(makeGameItem(g)));
christmasGames.forEach(g => christmasList.appendChild(makeGameItem(g)));
weeklyGames.forEach(g => weeklyList.appendChild(makeGameItem(g)));

async function loadGame(game) {
  if(activeId === game.id) return;
  document.querySelectorAll('.class.active').forEach(el => el.classList.remove('active'));
  placeholder.style.display = 'grid';
  frame.style.display = 'none';
  frame.src = '';
  await new Promise(r => setTimeout(r, 80));
  frame.src = game.src;
  frame.style.display = 'block';
  placeholder.style.display = 'none';
  activeId = game.id;
  playerTitle.textContent = game.title;
  playerSub.textContent = game.subtitle;
  const el = document.querySelector(`[data-id="${game.id}"]`);
  if(el) el.classList.add('active');
}

fullBtn.onclick = async () => {
  if(document.fullscreenElement) await document.exitFullscreen();
  else await frameWrap.requestFullscreen();
};

openNewBtn.onclick = () => {
  if(!activeId) return alert('Select a game first');
  const all = [...games, ...christmasGames, ...weeklyGames];
  const game = all.find(g => g.id === activeId);
  window.open(game.src, '_blank');
};

reloadBtn.onclick = () => {
  if(!activeId) return;
  const all = [...games, ...christmasGames, ...weeklyGames];
  const game = all.find(g => g.id === activeId);
  frame.src = '';
  setTimeout(() => frame.src = game.src, 60);
};

const featured = weeklyGames.find(g => g.featured);
if(featured) setTimeout(() => loadGame(featured), 250);
</script>

</body>
</html>
